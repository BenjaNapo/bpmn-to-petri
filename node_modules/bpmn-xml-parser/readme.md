# BPMN XML Parser focused on message flows.

## Introduction

Process models can contain multiple collaborators. In that case, the communication and handover in the process is managed with message flows. The purpose of this package to parse bpm/xml diagrams to show the resulting dependencies between the collaborators in a way that can easily be handled programmatically.

## Code Samples

### **Import:**

    import XmlParser from "bpmn-xml-parser";

### **Initialize:**

    Object: new XmlParser(diagramString);

The diagramString parameter contains the full xml diagram as text/string.

### **Retrieve collaborationId:**

    String: xmlParser.getCollaborationId()

Can be useful as an identifier if you are working with multiple processes.

### **Retrieve id and name of participants/collaborators as object:**

    String[{label: name, value: id}]: xmlParser.getParticipantObjects()

Enables unaltered use in select lists like react-select.

### **Retrieve all names of participants/collaborators:**

    String[]: xmlParser.getParticipatingProcesses()

### **Set names of relevant participants/collaborators:**

    void: xmlParser.setParticipatingProcesses();

Use this if you are only interested in the dependencies of certain collaborators.

If you don't do this, all participants will be considered relevant.

### **Parse message flows:**

    JsObject: xmlParser.parseMessageFlows();

This is where the actual magic happens.

Example output:

    [
      {
        "participantId": "Participant_1rmkvs0",
        "processName": "Filiale",
        "processId": "Process_1x5g5w9",
        "processVersion": "",
        "conditionalElements": [
          {
            "id": "IntermediateThrowEvent_0hrerws",
            "name": "",
            "type": "bpmn:intermediateCatchEvent",
            "triggerId": "MessageFlow_0y4pgmw",
            "triggerName": "Best√§tigung",
            "originOfTrigger": [
              {
                "originProcessId": "Process_1",
                "originProcessName": "Server",
                "originProcessVersion": "2",
                "originId": "EndEvent_0214v1a",
                "originName": "Kundenkonto erfolgreich angelegt",
                "originType": "bpmn:endEvent"
              }
            ]
          }
        ]
      }
    ]

## Installation

    npm install bpmn-xml-parser
